sudo: required

language: python

python:
  - "3.6"

services:
  - docker

install:
  - pip install -r requirements.txt
  # Build and run the Docker images
  - docker-compose up -d --build

script:
  # Check that docker images are running
  - docker ps | grep nginx_01
  - docker ps | grep django_01
  # Run the tests inside the Django container
  - docker exec django_01 python manage.py test
